{
	// Enables logging of all received and distributed events. Event types are:
	//     STATE_IND = State indication: Notifies the value of an item 
	//     WRITE_REQ = Write request: Asks the owner to modify the value of an item
	//     READ_REQ = Read request: Asks the owner to be notified about the value of an item
	// Optional, default is false. 
	"logEvents": true,

	// Registry of items for which events (STATE_IND, WRITE_REQ, READ_REQ) can potentially be received or sent.
	"items": [
		{ "id": "strom_zaehlerstand", "type": "number", "ownerId": "stromzaehler", "absDelta": 1 },
		{ "id": "strom_verbrauch_gesamt", "type": "number", "ownerId": "stromzaehler", "absDelta": 10 },
		{ "id": "strom_verbrauch_phase1", "type": "number", "ownerId": "stromzaehler", "absDelta": 5 },
		{ "id": "strom_verbrauch_phase2", "type": "number", "ownerId": "stromzaehler", "absDelta": 5 },
		{ "id": "strom_verbrauch_phase3", "type": "number", "ownerId": "stromzaehler", "absDelta": 5 },
			
		{ "id": "helligkeit_aussen_ost", "type": "number", "ownerId": "wetterstation" },
		{ "id": "helligkeit_aussen_sued", "type": "number", "ownerId": "wetterstation" },
		{ "id": "helligkeit_aussen_west", "type": "number", "ownerId": "wetterstation" },
		{ "id": "helligkeit_aussen_daemmerung", "type": "number", "ownerId": "wetterstation" },
		{ "id": "wind_geschwindigkeit", "type": "number", "ownerId": "wetterstation", "absDelta": 0.5 },
		{ "id": "regen_status", "type": "boolean", "ownerId": "wetterstation" },
			
		{ "id": "aussen_temp", "type": "number", "ownerId": "mqtt" },
		
		{ "id": "puffer_sp1_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "puffer_sp2_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "puffer_td2_temp", "type": "number", "ownerId": "mqtt" },

		{ "id": "fbh_modus", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_raum_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_absenk_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_heizkurve", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_abschalt_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_vorlauf_soll_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_vorlauf_ist_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "fbh_vorlauf_puffer_temp", "type": "number", "ownerId": "mqtt" },

		{ "id": "ww_modus", "type": "number", "ownerId": "mqtt" },
		{ "id": "ww_zk_soll_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "ww_zk_volumenstrom", "type": "number", "ownerId": "mqtt" },
		{ "id": "ww_zk_vorlauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "ww_pk_vorlauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "ww_pk_ruecklauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "ww_pk_mischer_status", "type": "number", "ownerId": "mqtt" },

		{ "id": "st_tagesertrag", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_gesamtertrag", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_kk_vorlauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_kk_ruecklauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_kk_pumpe_status", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_kk_pumpe_laufzeit", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_pk_vorlauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_pk_ruecklauf_temp", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_pk_pumpe_status", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_pk_pumpe_laufzeit", "type": "number", "ownerId": "mqtt" },
		{ "id": "st_pk_volumenstrom", "type": "number", "ownerId": "mqtt" },
	],
	
	// Interfaces to other systems and/or devices.
	"links": [
		{
			// Identifier for the link.
			"id": "stromzaehler",

			// Link type specific parametrization.
			"port":	{
				// Name of serial device/port. For example /dev/ttyUSB0.
				"name": "/dev/smartmeter",
				
				// Speed as baud/bit rate. Possible values are 1200, 1800, 2400, 4800, 9600, 19200, 38400, 
				// 57600 or 115200.
				"baudRate": 9600,

				// Number of data bits per character. Possible values are 5, 6, 7 or 8.
				"dataBits": 7,

				// Number of stop bits per character. Possible values are 1 or 2.
				"stopBits": 1,

				// Parity. Possible values are even, odd or none.
				"parity": "even",

				// Regular expression for splitting the received byte stream into messages. The syntax must
				// match the one of POSIX extended regular expressions. For parsing and evaluation of the expression
				// regcomp and regexec are used. The expression must not have any marked subexpression.
				"msgPattern": "/.*!\r\n",

				// Enables logging of the received byte stream. Optional, default is false.
				//"logRawData": true,
				
				// Indicates whether the received byte stream has to be logged in hexadecimal representation.
				// Optional, default is false.
				//"logRawDataInHex": true,

				// Mapping of received message to one or more items.
				"bindings": [
					{ "itemId": "strom_zaehlerstand", "pattern": ".*1-0:1\\.8\\.0\\*255\\(([0-9]{8}\\.[0-9]{7}).*" }, // nnnnnnnn.nnnnnnn, kWh
					{ "itemId": "strom_verbrauch_phase1", "pattern": ".*1-0:21\\.7\\.255\\*255\\(([0-9]{6}\\.[0-9]{2}).*" }, // nnnnnn.nn, Watt
					{ "itemId": "strom_verbrauch_phase2", "pattern": ".*1-0:41\\.7\\.255\\*255\\(([0-9]{6}\\.[0-9]{2}).*" }, // nnnnnn.nn, Watt
					{ "itemId": "strom_verbrauch_phase3", "pattern": ".*1-0:61\\.7\\.255\\*255\\(([0-9]{6}\\.[0-9]{2}).*" }, // nnnnnn.nn, Watt
					{ "itemId": "strom_verbrauch_gesamt", "pattern": ".*1-0:1\\.7\\.255\\*255\\(([0-9]{6}\\.[0-9]{2}).*" } // nnnnnn.nn, Watt
				]
			}
		},
		{
			// Identifier for the link.
			"id": "wetterstation", 
			
			// Conversions for item values which are sent or received over the link (STATE_IND and WRITE_REQ).
			"modifiers" : [ 
				// Received values are multiplied with the given factor and values which are going to be sent
				// are divided by it.
				//{ "itemId": "helligkeit_aussen_ost", "factor": 1000 },
				//{ "itemId": "helligkeit_aussen_sued", "factor": 1000 },
				//{ "itemId": "helligkeit_aussen_west", "factor": 1000 }
			],

			// Link type specific parametrization.
			"port":	{
				"name": "/dev/weatherstation",
				"baudRate": 9600,
				"dataBits": 8,
				"stopBits": 1,
				"parity": "none",
				//"msgPattern": "\\x02.*\\x03\r\n",
				//"msgPattern": "[[.STX.]].*[[.ETX.]]\r\n",
				"msgPattern": "[[:cntrl:]].{62}*[[:cntrl:]]\r\n",
				//"logRawData": true,
				"bindings": [
					{ "itemId": "helligkeit_aussen_ost", "pattern": ".{19}([0-9]{3}\\.[0-9]).*" }, // Format nnn.n, 0...150 kLux
					{ "itemId": "helligkeit_aussen_sued", "pattern": ".{25}([0-9]{3}\\.[0-9]).*" }, // Format nnn.n, 0...150 kLux
					{ "itemId": "helligkeit_aussen_west", "pattern": ".{31}([0-9]{3}\\.[0-9]).*" }, // Format nnn.n, 0...150 kLux
					{ "itemId": "helligkeit_aussen_daemmerung", "pattern": ".{37}([0-9]{3}).*" }, // Format nnn, 0...250 Lux, !!! wenn >250 Lux
					{ "itemId": "wind_geschwindigkeit", "pattern": ".{53}([0-9]{2}\\.[0-9]).*" }, // Format nn.n, 0..40 m/s,
					{ "itemId": "regen_status", "pattern": ".{51}([0-1]).*" } // 0/1
				]
			}
		},
		{
			// Identifier for the link.
			"id": "knx",

			// Link type specific parametrization.
			"knx": {
				// IP address passed to the KNX/IP gateway and used by it to contact weaver. 
				// It is ignored and not delivered in case the NAT mode is enabled. 
				"localIpAddr": "192.168.25.10",
			
				// Usage of network address translation (NAT mode) for accessing the KNX/IP gateway.
				// This mode is usually needed when the gateway is located on another network behind 
				// a router. Optional, default is false.
				"natMode": true,
			
				// IP address of KNX/IP gateway.
				"ipAddr": "192.168.25.12",
			
				// IP port on which KNX/IP gateway accepts tunnel requests. Optional, default is 3671.
				//"ipPort": "3671",
			
				// Delay in seconds between reconnect attempts to the KNX/IP gateway when the link has been 
				// lost. Optional, default is 60. 
				//"reconnectInterval": 60,
			
				// Delay in seconds between successive seinding of CONNECTION STATE REQUEST messages.
				// Optional, default is 30. 
				"connStateReqInterval": 30,
			
				// Timeout in seconds when waiting for the response to a CONNECTION REQUEST or 
				// CONNECTION STATE REQUEST on the control connection. Optional, default is 5.
				//"controlTimeout": 5,

				// Timeout in seconds when waiting for the corresponding L-Data.con to a L-Data.req on
				// the data connection. Optional, default is 5. 
				//"ldataConTimeout": 5,
			
				// Physical address used when accessing the KNX bus. Optional, default is 0.0.0.
				"physicalAddr": "1.1.200",

				// Enables logging of all received and sent UDP messages in hexadecimal format. 
				// Optional, default is false. 
				//"logRawMessages": true,
			
				// Enables logging of of all received and sent payloads (cEMI frames) including message code, 
				// group address and physical address. Optional, default is false. 
				//"logData": true,

				// Mapping from KNX to items and vice versa.
				"bindings":	[
					{ "itemId": "strom_zaehlerstand", "stateGa": "3/4/10", "dpt": "13.013" },
					{ "itemId": "strom_verbrauch_phase1", "stateGa": "3/4/11", "dpt": "14.056" },
					{ "itemId": "strom_verbrauch_phase2", "stateGa": "3/4/12", "dpt": "14.056" },
					{ "itemId": "strom_verbrauch_phase3", "stateGa": "3/4/13", "dpt": "14.056" },
					{ "itemId": "strom_verbrauch_gesamt", "stateGa": "3/4/14", "dpt": "14.056" },

					{ "itemId": "helligkeit_aussen_ost", "stateGa": "5/5/80", "dpt": "9.004" },
					{ "itemId": "helligkeit_aussen_sued", "stateGa": "5/5/81", "dpt": "9.004" },
					{ "itemId": "helligkeit_aussen_west", "stateGa": "5/5/82", "dpt": "9.004" },
					{ "itemId": "helligkeit_aussen_daemmerung", "stateGa": "5/5/83", "dpt": "9.004" },
					{ "itemId": "wind_geschwindigkeit", "stateGa": "5/0/10", "dpt": "9.005" },
					{ "itemId": "regen_status", "stateGa": "5/0/20", "dpt": "1.001" },

					{ "itemId": "aussen_temp", "stateGa": "3/6/18", "dpt": "9.001" },

					{ "itemId": "puffer_sp1_temp", "stateGa": "3/6/10", "dpt": "9.001" },
					{ "itemId": "puffer_sp2_temp", "stateGa": "3/6/11", "dpt": "9.001" },
					{ "itemId": "puffer_td2_temp", "stateGa": "3/6/12", "dpt": "9.001" },

					{ "itemId": "fbh_modus", "stateGa": "3/6/23", "writeGa": "3/6/33", "dpt": "5.010" },
					{ "itemId": "fbh_raum_temp", "stateGa": "3/6/25", "writeGa": "3/6/35", "dpt": "9.001" },
					{ "itemId": "fbh_absenk_temp", "stateGa": "3/6/27", "dpt": "9.001" },
					{ "itemId": "fbh_heizkurve", "stateGa": "3/6/24", "writeGa": "3/6/34", "dpt": "9.001" },
					{ "itemId": "fbh_abschalt_temp", "stateGa": "3/6/26", "dpt": "9.001" },
					{ "itemId": "fbh_vorlauf_soll_temp", "stateGa": "3/6/20", "dpt": "9.001" },
					{ "itemId": "fbh_vorlauf_ist_temp", "stateGa": "3/6/22", "dpt": "9.001" },
					{ "itemId": "fbh_vorlauf_puffer_temp", "stateGa": "3/6/21", "dpt": "9.001" },

					{ "itemId": "ww_modus", "stateGa": "3/6/40", "writeGa": "3/6/50", "dpt": "5.010" },
					{ "itemId": "ww_zk_soll_temp", "stateGa": "3/6/41", "writeGa": "3/6/51", "dpt": "9.001" },
					{ "itemId": "ww_zk_vorlauf_temp", "stateGa": "3/6/45", "dpt": "9.001" },
					{ "itemId": "ww_zk_volumenstrom", "stateGa": "3/6/42", "dpt": "9.001" },
					{ "itemId": "ww_pk_vorlauf_temp", "stateGa": "3/6/44", "dpt": "9.001" },
					{ "itemId": "ww_pk_ruecklauf_temp", "stateGa": "3/6/46", "dpt": "9.001" },
					{ "itemId": "ww_pk_mischer_status", "stateGa": "3/6/47", "dpt": "5.010" },

					{ "itemId": "st_tagesertrag", "stateGa": "3/6/60", "dpt": "5.010" },
					{ "itemId": "st_gesamtertrag", "stateGa": "3/6/70", "dpt": "12.001" },
					{ "itemId": "st_kk_vorlauf_temp", "stateGa": "3/6/61", "dpt": "9.001" },
					{ "itemId": "st_kk_ruecklauf_temp", "stateGa": "3/6/62", "dpt": "9.001" },
					{ "itemId": "st_kk_pumpe_status", "stateGa": "3/6/63", "dpt": "5.001" },
					{ "itemId": "st_kk_pumpe_laufzeit", "stateGa": "3/6/64", "dpt": "7.007" },
					{ "itemId": "st_pk_vorlauf_temp", "stateGa": "3/6/65", "dpt": "9.001" },
					{ "itemId": "st_pk_ruecklauf_temp", "stateGa": "3/6/66", "dpt": "9.001" },
					{ "itemId": "st_pk_pumpe_status", "stateGa": "3/6/67", "dpt": "5.001" },
					{ "itemId": "st_pk_pumpe_laufzeit", "stateGa": "3/6/68", "dpt": "7.007" },
					{ "itemId": "st_pk_volumenstrom", "stateGa": "3/6/69", "dpt": "9.001" },
				]
			}
		},
		{
			// Identifier for the link.
			"id": "mqtt",

			// Link type specific parametrization.
			"mqtt":	{
				// Prefix of client id passed to MQTT broker when connecting. It is expanded with "." and 
				// the process id. Optional, default is "weaver".
				//"clientIdPrefix": "weaver",

				// Hostname or IP address of the MQTT broker.
				"hostname": "timberwolf",

				// IP port on which MQTT broker is listening. Optional, default is 1883.
				//"port": 1883,

				// Delay in seconds between reconnect attempts to the MQTT broker when link has been lost.
				// Optional, default is 60. 
				"reconnectInterval": 60,

				// Retain flag for state notifications (STATE_IND). Optional, default is false.
				"retainFlag": true,

				// Enables logging of all received and sent messages (payload and topic). 
				// Optional, default is false. 
				//"logMessages": true,
			
				// Mapping from MQTT to items and vice versa.
				"bindings":	[
					{ "itemId": "aussen_temp", "stateTopic": "ebus/aussen_temp/wert", "readTopic": "ebus/aussen_temp/wert/get" },

					{ "itemId": "puffer_sp1_temp", "stateTopic": "ebus/puffer_sp1/temp",	"readTopic": "ebus/puffer_sp1/temp/get" },
					{ "itemId": "puffer_sp2_temp", "stateTopic": "ebus/puffer_sp2/temp",	"readTopic": "ebus/puffer_sp2/temp/get" },
					{ "itemId": "puffer_td2_temp", "stateTopic": "ebus/puffer_td2/temp",	"readTopic": "ebus/puffer_td2/temp/get" },

					{ 
						"itemId": "fbh_modus",
						"stateTopics": [ "ebus/fbh_raum_temp_modus/modus", "ebus/fbh_modus/wert" ],
						"readTopic": "ebus/fbh_raum_temp_modus/modus/get",
						"writeTopic": "ebus/fbh_modus/wert/set"
					},
					{
						"itemId": "fbh_raum_temp",
						"stateTopics": [ "ebus/fbh_raum_temp_modus/temp", "ebus/fbh_raum_temp/wert" ],
						"readTopic": "ebus/fbh_raum_temp_modus/temp/get",
						"writeTopic": "ebus/fbh_raum_temp/wert/set"
					},
					{ "itemId": "fbh_absenk_temp",			"stateTopic": "ebus/fbh_absenk_temp/wert",		"readTopic": "ebus/fbh_absenk_temp/wert/get" },
					{ "itemId": "fbh_heizkurve",			"stateTopic": "ebus/fbh_heizkurve/wert", 		"readTopic": "ebus/fbh_heizkurve/wert/get",			"writeTopic": "ebus/fbh_heizkurve/wert/set" },
					{ "itemId": "fbh_abschalt_temp",		"stateTopic": "ebus/fbh_abschalt_temp/wert", 	"readTopic": "ebus/fbh_abschalt_temp/wert/get" },
					{ "itemId": "fbh_vorlauf_soll_temp",	"stateTopic": "ebus/fbh_vorlauf_soll_temp/wert","readTopic": "ebus/fbh_vorlauf_soll_temp/wert/get" },
					{ "itemId": "fbh_vorlauf_ist_temp", 	"stateTopic": "ebus/fbh_vf2/temp", 				"readTopic": "ebus/fbh_vf2/temp/get" },
					{ "itemId": "fbh_vorlauf_puffer_temp",	"stateTopic": "ebus/fbh_vf1/temp", 				"readTopic": "ebus/fbh_vf1/temp/get" },

					{
						"itemId": "ww_modus",
						"stateTopics": [ "ebus/ww_soll_temp_modus/modus", "ebus/ww_modus/wert" ],
						"readTopic": "ebus/ww_soll_temp_modus/modus/get",
						"writeTopic": "ebus/ww_modus/wert/set"
					},
					{
						"itemId": "ww_zk_soll_temp",
						"stateTopics": [ "ebus/ww_soll_temp_modus/temp", "ebus/ww_soll_temp/wert" ],
						"readTopic": "ebus/ww_soll_temp_modus/temp/get",
						"writeTopic": "ebus/ww_soll_temp/wert/set"
					},
					{ "itemId": "ww_zk_volumenstrom", 	"stateTopic": "ebus/ww_zk_volumenstrom/wert",	"readTopic": "ebus/ww_zk_volumenstrom/wert/get" },
					{ "itemId": "ww_zk_vorlauf_temp", 	"stateTopic": "ebus/ww_ntc3/temp", 				"readTopic": "ebus/ww_ntc3/temp/get" },
					{ "itemId": "ww_pk_vorlauf_temp", 	"stateTopic": "ebus/ww_ntc1/temp", 				"readTopic": "ebus/ww_ntc1/temp/get" },
					{ "itemId": "ww_pk_ruecklauf_temp", "stateTopic": "ebus/ww_ntc2/temp", 				"readTopic": "ebus/ww_ntc2/temp/get" },
					{ "itemId": "ww_pk_mischer_status", "stateTopic": "ebus/ww_pk_mischer_status/wert",	"readTopic": "ebus/ww_pk_mischer_status/wert/get" },

					{ "itemId": "st_tagesertrag", 		"stateTopic": "ebus/st_tagesertrag/wert",		"readTopic": "ebus/st_tagesertrag/wert/get" },
					{ "itemId": "st_gesamtertrag", 		"stateTopic": "ebus/st_gesamtertrag/wert",		"readTopic": "ebus/st_gesamtertrag/wert/get" },
					{ "itemId": "st_kk_vorlauf_temp", 	"stateTopic": "ebus/st_kk_vorlauf/temp", 		"readTopic": "ebus/st_kk_vorlauf/temp/get" },
					{ "itemId": "st_kk_ruecklauf_temp",	"stateTopic": "ebus/st_kk_ruecklauf/temp", 		"readTopic": "ebus/st_kk_ruecklauf/temp/get" },
					{ "itemId": "st_kk_pumpe_status",	"stateTopic": "ebus/st_kk_pumpe_status/wert", 	"readTopic": "ebus/st_kk_pumpe_status/wert/get" },
					{ "itemId": "st_kk_pumpe_laufzeit",	"stateTopic": "ebus/st_kk_pumpe_laufzeit/wert",	"readTopic": "ebus/st_kk_pumpe_laufzeit/wert/get" },
					{ "itemId": "st_pk_vorlauf_temp", 	"stateTopic": "ebus/st_pk_vorlauf/temp", 		"readTopic": "ebus/st_pk_vorlauf/temp/get" },
					{ "itemId": "st_pk_ruecklauf_temp",	"stateTopic": "ebus/st_pk_ruecklauf/temp", 		"readTopic": "ebus/st_pk_ruecklauf/temp/get" },
					{ "itemId": "st_pk_pumpe_status", 	"stateTopic": "ebus/st_pk_pumpe_status/wert", 	"readTopic": "ebus/st_pk_pumpe_status/wert/get" },
					{ "itemId": "st_pk_pumpe_laufzeit",	"stateTopic": "ebus/st_pk_pumpe_laufzeit/wert",	"readTopic": "ebus/st_pk_pumpe_laufzeit/wert/get" },
					{ "itemId": "st_pk_volumenstrom",	"stateTopic": "ebus/st_pk_volumenstrom/wert",	"readTopic": "ebus/st_pk_volumenstrom/wert/get" },
					
					//{ "itemId": "strom_zaehlerstand", "stateTopic": "strom/zaehlerstand" },
					//{ "itemId": "strom_verbrauch_gesamt", "stateTopic": "strom/verbrauch_gesamt" },
					//{ "itemId": "strom_verbrauch_phase1", "stateTopic": "strom/verbrauch_phase1" },
					//{ "itemId": "strom_verbrauch_phase2", "stateTopic": "strom/verbrauch_phase2" },
					//{ "itemId": "strom_verbrauch_phase3", "stateTopic": "strom/verbrauch_phase3" },

					//{ "itemId": "helligkeit_aussen_ost", "stateTopic": "helligkeit/aussen/ost" },
					//{ "itemId": "helligkeit_aussen_sued", "stateTopic": "helligkeit/aussen/sued" },
					//{ "itemId": "helligkeit_aussen_west", "stateTopic": "helligkeit/aussen/west" },
					//{ "itemId": "helligkeit_aussen_daemmerung", "stateTopic": "helligkeit/aussen/daemmerung" },
					//{ "itemId": "wind_geschwindigkeit", "stateTopic": "wind/geschwindigkeit" },
					//{ "itemId": "regen_status", "stateTopic": "regen/status" }
				]
			}
		}
	]
}